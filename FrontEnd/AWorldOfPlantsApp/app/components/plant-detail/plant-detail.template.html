<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">Details for: {{$ctrl.plantDetails.plantName}}</h1>
    <div id="mqttStatus" class="alert alert-danger" role="alert" style="display: flex; align-items: center;">
      <div style="display: inline-block;">Connecting to plant box</div>
      <div class="spinner-bounce mqtt-spin" style="display: inline-block; margin-left: 1em;">
        <div class="double-bounce1"></div>
        <div class="double-bounce2"></div>
      </div>
    </div>
    <input type="hidden" ng-model="$ctrl.status" status-directive plant-detail-canvas-directive="">
  </div>
</div>

<div class="row" plant-detail-directive>
  <div class="col-lg-12">
    <div id="plantDetailsPanel" class="panel panel-yellow">
      <div class="panel-heading" style="background-color: {{$ctrl.plantDetails.colour}}">
        Plant Details
      </div>
      <div class="panel-body">
        <form role="form">
          <div class="form-group input-group">
              <span class="input-group-addon">
                <i class="fa fa-file"></i>
              </span>
              <ui-select id="plantType" ng-model="$ctrl.plantDetails.plantType">
              <ui-select-match placeholder="Select or search for a plant type...">{{$select.selected}}</ui-select-match>
              <ui-select-choices repeat="t in getPlantTypes($select.search) | filter: $select.search track by $index">
                <div ng-bind="t"></div>
              </ui-select-choices>
              </ui-select>
          </div>
          <div class="form-group input-group">
            <span class="input-group-addon">
              <i class="fa fa-leaf"></i>
            </span>
            <input ng-model="$ctrl.plantDetails.plantName" type="text" class="form-control">
          </div>
          <div class="form-group input-group">
            <span class="input-group-addon">
              <i class="fa fa-calendar"></i>
            </span>
            <input ng-model="$ctrl.plantDetails.plantAge" type="text" class="form-control" disabled>
          </div>
          <div class="form-group">
            <button id="plantUpdate" class="btn btn-material btn-material-green pull-left" style="min-width: 72px;" type="button">
              <span>Update</span>
              <div class="spinner-bounce update-spin" style="display: none; vertical-align: middle;">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
              </div>
              <svg style="display: none;" class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"></circle>
                <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"></path>
              </svg>
            </button>
          </div>
          <div class="form-group">
            <input id="plantDelete" class="btn btn-material btn-material-red pull-right" type="button" value="Delete">
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div pause-play>
  <div class="row">
    <div class="col-md-6">
      <div class="panel panel-yellow panel-control">
        <div class="panel-heading">
          Control Panel
        </div>
        <div class="panel-body">
          <color-picker ng-model="$ctrl.color" options="$ctrl.options" event-api="$ctrl.eventApi"></color-picker>
          <rzslider
           id="fanSlider"
           rz-slider-model="fanSlider.value"
           rz-slider-options="fanSlider.options"></rzslider>
          <input ng-model="pumpTime" type="text" ng-init="pumpTime = 3">
          <button ng-click="$ctrl.sendPumpTime(pumpTime)" class="btn btn-material pull-right">Turn on pump for {{pumpTime}} seconds!</button>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="panel panel-yellow panel-temp">
        <div class="panel-heading">
          Temperature Panel
          <button class="btn btn-material btn-circular btnPausePlay" data-chart="temp"
                  style="margin-left: 10px;"><i class="fa fa-pause pausePlay" style="color: #ffc107;"></i></button>
        </div>
        <div class="panel-body">
          <div id="tempTab">
            <ul class="nav nav-pills temp-pills">
              <li class="active">
                <a data-target="#live-temp" data-toggle="tab">Live</a>
              </li>
              <li>
                <a data-target="#historical-temp" data-toggle="tab">Historical</a>
              </li>
            </ul>

            <div class="tab-content clearfix">
              <div class="tab-pane active" id="live-temp">
                <canvas id="live-chart-temperature" plant-detail-canvas-directive></canvas>
              </div>
              <div class="tab-pane" id="historical-temp">
                <h3>historical data over here</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="panel panel-yellow panel-humidity">
        <div class="panel-heading">
          Humidity Panel
          <button class="btn btn-material btn-circular btnPausePlay" data-chart="humidity"
                  style="margin-left: 10px;"><i class="fa fa-pause pausePlay" style="color: #db4437;"></i></button>
        </div>
        <div class="panel-body">
          <div id="humidityTab">
            <ul class="nav nav-pills humidity-pills">
              <li class="active">
                <a data-target="#live-humidity" data-toggle="tab">Live</a>
              </li>
              <li>
                <a data-target="#historical-humidity" data-toggle="tab">Historical</a>
              </li>
            </ul>

            <div class="tab-content clearfix">
              <div class="tab-pane active" id="live-humidity">
                <canvas id="live-chart-humidity" plant-detail-canvas-directive></canvas>
              </div>
              <div class="tab-pane" id="historical-humidity">
                <h3>historical data over here</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panel panel-yellow panel-moisture">
        <div class="panel-heading">
          Moisture Panel
          <button class="btn btn-material btn-circular btnPausePlay" data-chart="moisture"
                  style="margin-left: 10px;"><i class="fa fa-pause pausePlay" style="color: #4285f4;"></i></button>
        </div>
        <div class="panel-body">
          <div id="moistureTab">
            <ul class="nav nav-pills moisture-pills">
              <li class="active">
                <a data-target="#live-moisture" data-toggle="tab">Live</a>
              </li>
              <li>
                <a data-target="#historical-moisture" data-toggle="tab">Historical</a>
              </li>
            </ul>

            <div class="tab-content clearfix">
              <div class="tab-pane active" id="live-moisture">
                <canvas id="live-chart-moisture" plant-detail-canvas-directive></canvas>
              </div>
              <div class="tab-pane" id="historical-moisture">
                <h3>historical data over here</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-yellow panel-aggregate">
        <div class="panel-heading">
          Aggregate Panel
          <button class="btn btn-material btn-circular btnPausePlay" data-chart="aggregate"
                  style="margin-left: 10px;"><i class="fa fa-pause pausePlay" style="color: #c52062;"></i></button>
        </div>
        <div class="panel-body">
          <div id="aggregateTab">
            <ul class="nav nav-pills moisture-pills">
              <li class="active">
                <a data-target="#live-aggregate" data-toggle="tab">Live</a>
              </li>
              <li>
                <a data-target="#historical-aggregate" data-toggle="tab">Historical</a>
              </li>
            </ul>

            <div class="tab-content clearfix">
              <div class="tab-pane active" id="live-aggregate">
                <div class="col-md-6">
                  <canvas id="live-chart-aggregate" plant-detail-canvas-directive></canvas>
                </div>
                <div class="col-md-6">
                  <canvas id="live-chart-aggregate-line" plant-detail-canvas-directive></canvas>
                </div>
              </div>
              <div class="tab-pane" id="historical-aggregate">
                <h3>historical data over here</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>